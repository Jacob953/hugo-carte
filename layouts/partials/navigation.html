{{ $pagesTotal := len .Pages }}
{{ $hasPages := gt $pagesTotal 0 }}
{{ $showToc := and .Site.Params.UweUwe.Toc.Display $hasPages }}

{{ if $showToc }} 
    <nav id="page-toc">
        <h2>目录</h2>
        {{ range .Pages }}
        <ul>
            <a href='#{{ .Title | safeHTML | replaceRE "[ *]" "-" | replaceRE "[&]" "" }}'>{{ .Title }}</a>
        </ul>
        {{ end }}
    </nav>
{{ end }}